<h1>Affordability Calculator</h1>

<form class="affordability-calculator">
  <section class="affordability-calculator__transaction-details">
    <div class="affordability-calculator__buyer-status">
      <span>I'm</span>
      <div>
        <div><input type="radio" name="buyer-status" value="first" id="buyer-first" [(ngModel)]="buyerStatus"> <label for="buyer-first">a first time buyer</label></div>
        <div><input type="radio" name="buyer-status" value="moving" id="buyer-moving" [(ngModel)]="buyerStatus"> <label for="buyer-moving">moving house (total 1 property)</label></div>
        <div><input type="radio" name="buyer-status" value="additional" id="buyer-additional" [(ngModel)]="buyerStatus"> <label for="buyer-additional">buying an additional property</label></div>
      </div>
    </div>
    <div>
      <label for="house-price">House price</label>
      £ <input type="number" name="house-price" id="house-price" [(ngModel)]="housePrice">
    </div>
    House price £{{ housePrice | number: '1.0-0' }}
  </section>
    <fieldset class="affordability-calculator__cashflow">
      <legend>Cashflow</legend>
      <div>
        <label for="salary">Salary</label>
        £ <input type="number" name="salary" id="salary" [(ngModel)]="salary">
      </div>
      <div>
        <label for="net-monthly-earnings">Net monthly earnings</label>
        £ <input type="number" name="net-monthly-earnings" id="net-monthly-earnings" [(ngModel)]="netMonthlyEarnings">
      </div>
      <div>
        <label for="monthly-outgoings">Monthly outgoings</label>
        £ <input type="number" name="monthly-outgoings" id="monthly-outgoings" [(ngModel)]="monthlyOutgoings">
      </div>
      <div>
        Monthly disposable income £{{disposableIncome}}
      </div>
    </fieldset>
    <section>
      <h2>Deposit</h2>
      <div class="affordability-calculator__deposit">
        <legend></legend>
        <div class="affordability-calculator__deposit-savings">
          <label for="savings">Total savings</label>
          £ <input type="number" name="savings" id="savings" [(ngModel)]="totalSavings">
        </div>
        <div>
          <label for="stamp-duty">Stamp duty</label>
          £ <input type="number" name="stamp-duty" id="stamp-duty" [(ngModel)]="stampDuty">
          <p>Effective tax rate is {{ effectiveTaxRate }}%</p>
        </div>
        <div>
          <label for="other-fees">Other fees</label>
          £ <input type="number" name="other-fees" id="other-fees" [(ngModel)]="otherFees">
        </div>

        <div>
          Deposit £{{ deposit | number: '1.0-0'}}
          This is calculated using the highest affordable LTV, based on your earnings, savings and property price.
        </div>
        <div>
          Excess cash £{{ excessCash | number: '1.0-0' }}
        </div>
      </div>
    </section>

    <fieldset>
      <legend>Mortgage Value</legend>
      <div>
        <label for="ltv">LTV</label>
        <input type="number" name="ltv" id="ltv" [(ngModel)]="loanToValue">%
      </div>
      <div>
        Loan amount £{{ loanAmount | number: '1.0-0' }}
      </div>
      <div>
        <label for="term">Mortgage term</label>
        <input type="number" name="term" id="term"  [(ngModel)]="term"> years
      </div>
      <div>
        <label for="interest-rate">Interest rate</label>
        <input type="number" name="interest-rate" id="interest-rate" [(ngModel)]="interestRate"> %
      </div>
      <div>
        Monthly payment £{{ monthlyPayment | number: '1.2-2' }}
      </div>
    </fieldset>
    <div>
      <h2>Indicators</h2>
      <div>
        Annual salary multiple for mortgage amount: {{ annualSalaryMultiple | number: '1.0-2' }}x
      </div>
      <div>
        % of income used for mortgage payment: {{percentIncomeUsedForMortgagePayment | number: '1.0-2' }}%
      </div>
      <div>
        % of disposable income used for mortgage payment: {{ percentDisposableIncomeUsedForMortgagePayment | number: '1.0-2' }}%
      </div>
    </div>
</form>
